const axios = require("axios");
module.exports.config = {
  name: "bot",
  version: "1.0.1",
  permission: 0,
  prefix: false,
  credits: "ROBIUL",
  description: "Chatbot with GitHub JSON replies",
  category: "fun",
  usages: "bot [question]",
  cooldowns: 5,
};

module.exports.run = async function ({ api, event, args, Users }) {
  const name = await Users.getNameUser(event.senderID);
  const prompt = args.join(" ").trim().toLowerCase();
  const fallbackReplies = [  " à¦¬à§‡à¦¶à¦¿ bot Bot à¦•à¦°à¦²à§‡ leave à¦¨à¦¿à¦¬à§‹ à¦•à¦¿à¦¨à§à¦¤à§ğŸ˜’ğŸ˜’ " ,
 "à¦¶à§à¦¨à¦¬à§‹ à¦¨à¦¾ğŸ˜¼à¦¤à§à¦®à¦¿ à¦†à¦®à¦¾à¦•à§‡ à¦ªà§à¦°à§‡à¦® à¦•à¦°à¦¾à¦‡ à¦¦à¦¾à¦“ à¦¨à¦¾à¦‡ğŸ¥ºà¦ªà¦šà¦¾ à¦¤à§à¦®à¦¿ğŸ¥º" ,
 "à¦†à¦®à¦¿ à¦†à¦¬à¦¾à¦² à¦¦à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦•à¦¥à¦¾ à¦¬à¦²à¦¿ à¦¨à¦¾,okğŸ˜’" ,
 "à¦à¦¤à§‹ à¦¡à§‡à¦•à§‹ à¦¨à¦¾,à¦ªà§à¦°à§‡à¦® à¦ à¦ªà¦°à§‡ à¦¯à¦¾à¦¬à§‹ à¦¤à§‹ğŸ™ˆ" ,
 "Bolo Babu, à¦¤à§à¦®à¦¿ à¦•à¦¿ à¦†à¦®à¦¾à¦•à§‡ à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à§‹? ğŸ™ˆğŸ’‹ " , 
"à¦¬à¦¾à¦° à¦¬à¦¾à¦° à¦¡à¦¾à¦•à¦²à§‡ à¦®à¦¾à¦¥à¦¾ à¦—à¦°à¦® à¦¹à¦¯à¦¼à§‡ à¦¯à¦¾à¦¯à¦¼ à¦•à¦¿à¦¨à§à¦¤à§ğŸ˜‘", 
"à¦¹à§à¦¯à¦¾ à¦¬à¦²à§‹ğŸ˜’, à¦¤à§‹à¦®à¦¾à¦° à¦œà¦¨à§à¦¯ à¦•à¦¿ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿ğŸ˜ğŸ˜‘?" , 
"à¦à¦¤à§‹ à¦¡à¦¾à¦•à¦›à¦¿à¦¸ à¦•à§‡à¦¨?à¦—à¦¾à¦²à¦¿ à¦¶à§à¦¨à¦¬à¦¿ à¦¨à¦¾à¦•à¦¿? ğŸ¤¬" ,
 "I love you januğŸ¥°" , 
"à¦†à¦°à§‡ Bolo à¦†à¦®à¦¾à¦° à¦œà¦¾à¦¨ ,à¦•à§‡à¦®à¦¨ à¦†à¦›à§‹?ğŸ˜š " , 
"Bot à¦¬à¦²à§‡ à¦…à¦¸à¦®à§à¦®à¦¾à¦¨ à¦•à¦°à¦›à¦¿,ğŸ˜°ğŸ˜¿" , 
"Hop bedağŸ˜¾,Boss à¦¬à¦² bossğŸ˜¼" ,
 "à¦šà§à¦ª à¦¥à¦¾à¦• ,à¦¨à¦¾à¦‡ à¦¤à§‹ à¦¤à§‹à¦° à¦¦à¦¾à¦¤ à¦­à§‡à¦—à§‡ à¦¦à¦¿à¦¬à§‹ à¦•à¦¿à¦¨à§à¦¤à§" ,
 "Bot à¦¨à¦¾ , à¦œà¦¾à¦¨à§ à¦¬à¦² à¦œà¦¾à¦¨à§ ğŸ˜˜ " , 
"à¦¬à¦¾à¦° à¦¬à¦¾à¦° Disturb à¦•à¦°à¦›à¦¿à¦¸ à¦•à§‹à¦¨à§‹ğŸ˜¾,à¦†à¦®à¦¾à¦° à¦œà¦¾à¦¨à§à¦° à¦¸à¦¾à¦¥à§‡ à¦¬à§à¦¯à¦¾à¦¸à§à¦¤ à¦†à¦›à¦¿ğŸ˜‹" , 
"à¦¬à§‹à¦•à¦¾à¦šà§‹à¦¦à¦¾ à¦à¦¤à§‹ à¦¡à¦¾à¦•à¦¿à¦¸ à¦•à§‡à¦¨ğŸ¤¬" ,
 "à¦†à¦®à¦¾à¦•à§‡ à¦¡à¦¾à¦•à¦²à§‡ ,à¦†à¦®à¦¿ à¦•à¦¿à¦¨à§à¦¤à§ à¦•à¦¿à¦¸ à¦•à¦°à§‡ à¦¦à¦¿à¦¬à§‹ğŸ˜˜ " ,
 "à¦†à¦®à¦¾à¦°à§‡ à¦à¦¤à§‹ à¦¡à¦¾à¦•à¦¿à¦¸ à¦¨à¦¾ à¦†à¦®à¦¿ à¦®à¦œà¦¾ à¦•à¦°à¦¾à¦° mood à¦ à¦¨à¦¾à¦‡ à¦à¦–à¦¨ğŸ˜’" , 
"à¦¹à§à¦¯à¦¾à¦ à¦œà¦¾à¦¨à§ , à¦à¦‡à¦¦à¦¿à¦• à¦ à¦†à¦¸à§‹ à¦•à¦¿à¦¸ à¦¦à§‡à¦‡ğŸ¤­ ğŸ˜˜" ,
 "à¦¦à§‚à¦°à§‡ à¦¯à¦¾, à¦¤à§‹à¦° à¦•à§‹à¦¨à§‹ à¦•à¦¾à¦œ à¦¨à¦¾à¦‡, à¦¶à§à¦§à§ bot bot à¦•à¦°à¦¿à¦¸  ğŸ˜‰ğŸ˜‹ğŸ¤£" , 
"à¦¤à§‹à¦° à¦•à¦¥à¦¾ à¦¤à§‹à¦° à¦¬à¦¾à¦¡à¦¼à¦¿ à¦•à§‡à¦‰ à¦¶à§à¦¨à§‡ à¦¨à¦¾ ,à¦¤à§‹ à¦†à¦®à¦¿ à¦•à§‹à¦¨à§‹ à¦¶à§à¦¨à¦¬à§‹ ?ğŸ¤”ğŸ˜‚ " , 
"à¦†à¦®à¦¾à¦•à§‡ à¦¡à§‡à¦•à§‹ à¦¨à¦¾,à¦†à¦®à¦¿ à¦¬à§à¦¯à¦¾à¦¸à§à¦¤ à¦†à¦›à¦¿" , 
"à¦•à¦¿ à¦¹à¦²à§‹ , à¦®à¦¿à¦¸à§à¦Ÿà§‡à¦• à¦•à¦°à¦šà§à¦›à¦¿à¦¸ à¦¨à¦¾à¦•à¦¿ğŸ¤£" , 
"à¦¬à¦²à§‹ à¦•à¦¿ à¦¬à¦²à¦¬à¦¾, à¦¸à¦¬à¦¾à¦° à¦¸à¦¾à¦®à¦¨à§‡ à¦¬à¦²à¦¬à¦¾ à¦¨à¦¾à¦•à¦¿?ğŸ¤­ğŸ¤" , 
"à¦•à¦¾à¦²à¦•à§‡ à¦¦à§‡à¦–à¦¾ à¦•à¦°à¦¿à¦¸ à¦¤à§‹ à¦à¦•à¦Ÿà§ ğŸ˜ˆ" , 
"à¦¹à¦¾ à¦¬à¦²à§‹, à¦¶à§à¦¨à¦›à¦¿ à¦†à¦®à¦¿ ğŸ˜" , 
"à¦†à¦° à¦•à¦¤ à¦¬à¦¾à¦° à¦¡à¦¾à¦•à¦¬à¦¿ ,à¦¶à§à¦¨à¦›à¦¿ à¦¤à§‹" ,
 "à¦¹à§à¦® à¦¬à¦²à§‹ à¦•à¦¿ à¦¬à¦²à¦¬à§‡ğŸ˜’" , 
"à¦¬à¦²à§‹ à¦•à¦¿ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿ à¦¤à§‹à¦®à¦¾à¦° à¦œà¦¨à§à¦¯" ,
 "à¦†à¦®à¦¿ à¦¤à§‹ à¦…à¦¨à§à¦§ à¦•à¦¿à¦›à§ à¦¦à§‡à¦–à¦¿ à¦¨à¦¾ğŸ¸ ğŸ˜" , 
"Bot à¦¨à¦¾ à¦œà¦¾à¦¨à§,à¦¬à¦² ğŸ˜Œ" , "à¦¬à¦²à§‹ à¦œà¦¾à¦¨à§ ğŸŒš" ,
 "à¦¤à§‹à¦° à¦•à¦¿ à¦šà§‹à¦–à§‡ à¦ªà¦¡à¦¼à§‡ à¦¨à¦¾ à¦†à¦®à¦¿ à¦¬à§à¦¯à¦¾à¦¸à§à¦¤ à¦†à¦›à¦¿ğŸ˜’",
"à¦¹à§à¦® à¦œà¦¾à¦¨ à¦¤à§‹à¦®à¦¾à¦° à¦“à¦‡ à¦–à¦¾à¦¨à§‡ à¦‰à¦®à§à¦®à¦¹ğŸ˜‘ğŸ˜˜" ,
 "à¦†à¦¹ à¦¶à§à¦¨à¦¾ à¦†à¦®à¦¾à¦° à¦¤à§‹à¦®à¦¾à¦° à¦…à¦²à¦¿à¦¤à§‡ à¦—à¦²à¦¿à¦¤à§‡ à¦‰à¦®à§à¦®à¦¾à¦¹ğŸ˜‡ğŸ˜˜" ,
 " jang hanga korbağŸ˜’ğŸ˜¬" , 
"à¦¹à§à¦® à¦œà¦¾à¦¨ à¦¤à§‹à¦®à¦¾à¦° à¦…à¦‡à¦–à¦¾à¦¨à§‡ à¦‰à¦®à§à¦®à¦®à¦¾à¦¹ğŸ˜·ğŸ˜˜" , 
"à¦†à¦¸à¦¸à¦¾à¦²à¦¾à¦®à§ à¦†à¦²à¦¾à¦‡à¦•à§à¦® à¦¬à¦²à§‡à¦¨ à¦†à¦ªà¦¨à¦¾à¦° à¦œà¦¨à§à¦¯ à¦•à¦¿ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿..!ğŸ¥°" ,
 "à¦†à¦®à¦¾à¦•à§‡ à¦à¦¤à§‹ à¦¨à¦¾ à¦¡à§‡à¦•à§‡ à¦¬à¦¸ à¦¶à¦¾à¦¨à§à¦¤   à¦•à§‡ à¦à¦•à¦Ÿà¦¾ à¦—à¦¾à¦°à§à¦²à¦«à§à¦°à§‡à¦¨à§à¦¡ à¦¦à§‡ ğŸ™„" ,
 "à¦†à¦®à¦¾à¦•à§‡ à¦à¦¤à§‹ à¦¨à¦¾ à¦¡à§‡à¦•à¦› à¦•à§‡à¦¨ à¦­à¦²à§‹ à¦Ÿà¦¾à¦²à§‹ à¦¬à¦¾à¦¸à§‹ à¦¨à¦¾à¦•à¦¿ğŸ¤­ğŸ™ˆ" ,
 "ğŸŒ»ğŸŒºğŸ’š-à¦†à¦¸à¦¸à¦¾à¦²à¦¾à¦®à§ à¦†à¦²à¦¾à¦‡à¦•à§à¦® à¦“à¦¯à¦¼à¦¾ à¦°à¦¾à¦¹à¦®à¦¾à¦¤à§à¦²à§à¦²à¦¾à¦¹-ğŸ’šğŸŒºğŸŒ»",
"à¦†à¦®à¦¿ à¦à¦–à¦¨ à¦¬à¦¸ à¦¶à¦¾à¦¨à§à¦¤  à¦à¦° à¦¸à¦¾à¦¥à§‡ à¦¬à¦¿à¦œà¦¿ à¦†à¦›à¦¿ à¦†à¦®à¦¾à¦•à§‡ à¦¡à¦¾à¦•à¦¬à§‡à¦¨ à¦¨à¦¾-ğŸ˜•ğŸ˜ à¦§à¦¨à§à¦¯à¦¬à¦¾à¦¦-ğŸ¤ğŸŒ»",
"à¦†à¦®à¦¾à¦•à§‡ à¦¨à¦¾ à¦¡à§‡à¦•à§‡ à¦†à¦®à¦¾à¦° à¦¬à¦¸ à¦¶à¦¾à¦¨à§à¦¤  à¦•à§‡ à¦à¦•à¦Ÿà¦¾ à¦œà¦¿ à¦à¦« à¦¦à¦¾à¦“-ğŸ˜½ğŸ«¶ğŸŒº",
"à¦à¦¾à¦‚ à¦¥à§à¦®à¦¾à¦²à§‡ à¦†à¦‡à¦²à¦¾à¦ªà¦¿à¦‰ à¦ªà§‡à¦ªà¦¿-ğŸ’ğŸ˜½",
"à¦‰à¦«à¦« à¦¬à§à¦à¦²à¦¾à¦® à¦¨à¦¾ à¦à¦¤à§‹ à¦¡à¦¾à¦•à¦›à§‡à¦¨ à¦•à§‡à¦¨à§‹-ğŸ˜¤ğŸ˜¡ğŸ˜ˆ",
"à¦œà¦¾à¦¨ à¦¤à§‹à¦®à¦¾à¦° à¦¨à¦¾à¦¨à¦¿'à¦°à§‡ à¦†à¦®à¦¾à¦° à¦¹à¦¾à¦¤à§‡ à¦¤à§à¦²à§‡ à¦¦à¦¿à¦¬à¦¾-ğŸ™ŠğŸ™†â€â™‚",
"à¦†à¦œà¦•à§‡ à¦†à¦®à¦¾à¦° à¦®à¦¨ à¦­à¦¾à¦²à§‹ à¦¨à§‡à¦‡ à¦¤à¦¾à¦‡ à¦†à¦®à¦¾à¦°à§‡ à¦¡à¦¾à¦•à¦¬à§‡à¦¨ à¦¨à¦¾-ğŸ˜ªğŸ¤§",
"à¦à¦¾à¦‚ ğŸ«µà¦¥à§à¦®à¦¾à¦²à§‡ à§Ÿà¦¾à¦®à¦¿ à¦°à¦¾à¦‡à¦¤à§‡ à¦ªà¦¾à¦²à§à¦ªà¦¾à¦¸à¦¿ à¦‰à¦®à§à¦®à¦®à§à¦®à¦¾à¦¹-ğŸŒºğŸ¤¤ğŸ’¦",
"à¦šà§à¦¨à¦¾ à¦“ à¦šà§à¦¨à¦¾ à¦†à¦®à¦¾à¦° à¦¬à¦¸ à¦¶à¦¾à¦¨à§à¦¤  à¦à¦° à¦¹à¦¬à§ à¦¬à¦‰ à¦°à§‡ à¦•à§‡à¦“ à¦¦à§‡à¦•à¦›à§‹ à¦–à§à¦œà§‡ à¦ªà¦¾à¦šà§à¦›à¦¿ à¦¨à¦¾ğŸ˜ªğŸ¤§ğŸ˜­",
"à¦¸à§à¦¬à¦ªà§à¦¨ à¦¤à§‹à¦®à¦¾à¦°à§‡ à¦¨à¦¿à§Ÿà§‡ à¦¦à§‡à¦–à¦¤à§‡ à¦šà¦¾à¦‡ à¦¤à§à¦®à¦¿ à¦¯à¦¦à¦¿ à¦†à¦®à¦¾à¦° à¦¹à¦¯à¦¼à§‡ à¦¥à§‡à¦•à§‡ à¦¯à¦¾à¦“-ğŸ’ğŸŒºğŸŒ»",
"à¦œà¦¾à¦¨ à¦¹à¦¾à¦™à§à¦—à¦¾ à¦•à¦°à¦¬à¦¾-ğŸ™ŠğŸ˜ğŸŒ»",
"à¦œà¦¾à¦¨ à¦®à§‡à¦¯à¦¼à§‡ à¦¹à¦²à§‡ à¦šà¦¿à¦ªà¦¾à¦¯à¦¼ à¦†à¦¸à§‹ à¦‡à¦‰à¦Ÿà¦¿à¦‰à¦¬ à¦¥à§‡à¦•à§‡ à¦…à¦¨à§‡à¦• à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à¦¾ à¦¶à¦¿à¦–à¦›à¦¿ à¦¤à§‹à¦®à¦¾à¦° à¦œà¦¨à§à¦¯-ğŸ™ŠğŸ™ˆğŸ˜½",
    "Hi, ğŸ¤– i can help you~~~~"
  ];
  // â¤ à¦‡à¦‰à¦œà¦¾à¦° à¦•à¦¿à¦›à§ à¦¨à¦¾ à¦²à¦¿à¦–à¦²à§‡
  if (!prompt) {
    const rand = fallbackReplies[Math.floor(Math.random() * fallbackReplies.length)];
    return api.sendMessage(
      `â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â\nâ•°â¤ ğŸ‘¤ ${name},\nâ•°â¤ ğŸ—£ï¸ ${rand}\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â¤`,
      event.threadID,
      event.messageID
    );
  }
  // â¤ à¦‡à¦‰à¦œà¦¾à¦° à¦ªà§à¦°à¦¶à§à¦¨ à¦¦à¦¿à¦²à§‡ â€” JSON à¦¥à§‡à¦•à§‡ match à¦•à¦°à§‹
  try {
    const res = await axios.get(`https://raw.githubusercontent.com/JUBAED-AHMED-JOY/Joy/main/text.json`);
    const dataset = res.data.data;
    // à¦ªà§à¦°à¦¶à§à¦¨ match à¦•à¦°à§‹ (exact match, lower case)
    const match = dataset.find(item => item.ask.toLowerCase() === prompt);
    if (match) {
      return api.sendMessage(match.reply, event.threadID, event.messageID);
    } else {
      return api.sendMessage("ğŸ¤– à¦†à¦®à¦¿ à¦à¦Ÿà¦¾ à¦¶à¦¿à¦–à¦¿à¦¨à¦¿!", event.threadID, event.messageID);
    }

  } catch (err) {
    console.error("âŒ Bot API Error:", err.message);
    const rand = fallbackReplies[Math.floor(Math.random() * fallbackReplies.length)];
    return api.sendMessage(`ğŸ¤– ${rand}`, event.threadID, event.messageID);
  }
};
